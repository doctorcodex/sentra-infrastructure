Architected by doctorcodex/ drferdiiskandar\nDeveloped by doctorcodex/ drferdiiskandar\n\n# API Map — Dashboard-Controlled Hub (Local)\n\n## Purpose\nMinimal REST contract for a local dashboard to control the Hub without background automation.\n\n## Base URL\nhttp://localhost:8787\n\n## Endpoints\n\n### GET /rehydrate\nTrigger the manual rehydrate and return the current context packet.\n- Side-effect: calls `scripts/rehydrate.sh`\n- Response (200):\n```json\n{\n  "version": "2025-10-19",\n  "revision": 7,\n  "latest_session": "2025-10-19",\n  "summary": ["...", "..."],\n  "new_decisions": ["..."],\n  "priority_impact": ["..."],\n  "open_issues": ["..."],\n  "context_updates": [{"key":"strategy","value":"manual sync"}],\n  "red_flags": []\n}\n```\n\n### POST /memory\nSave a note/decision/issue/context via `scripts/mem.py`.\n- Request (JSON):\n```json\n{ "type": "note|decision|issue|context", "key": "optional", "value": "string", "date": "YYYY-MM-DD (optional)" }\n```\n- Response (200):\n```json\n{ "ok": true, "written_to": ["hub/discussions/2025-10-19.md"], "version_bumped": true }\n```\n\n### POST /rollup\nWrap up the day.\n- Side-effects:\n  1) run `scripts/new_session.sh`\n  2) run `python3 scripts/check_red_flags.py`\n- Response (200):\n```json\n{ "ok": true, "session": "hub/sessions/2025-10-19.md", "health_updated": true }\n```\n\n### GET /packet\nReturn the Clipboard **LLM Context Packet** (plain text). For copy-paste.\n- Response (200, text/plain): the formatted packet.\n\n## LLM Context Packet (Text Template)\n```\n[rehydrate]\nversion_date: 2025-10-19\nrevision: 7\nsource_of_truth: the-infrastructure-hub\n\n[vision]\nBecause Every Life Matters.\n\n[summary]\n- ...\n[new_decisions]\n- ...\n[priority_impact]\n- ...\n[open_issues]\n- ...\n[context_updates]\n- key: strategy → "manual sync"\n- key: state → "dashboard-controlled"\n[red_flags]\n- none\n```\n\n## Notes\n- This API is **local-only** and can be invoked by an Electron/TAURI app, VS Code extension, or a simple UI.\n- All filenames remain lowercase and all files contain the credit lines.